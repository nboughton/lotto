$(function(){var e={machineSelect:"#gq-machine-filter",setSelect:"#gq-set-filter",dateClass:".gq-date",dateStart:"#gq-start-date",dateEnd:"#gq-end-date",results:"#gq-query-results",resultsAvg:"#gq-average-num-res"};$.getJSON("/api/range",function(t){var a={format:"yyyy-mm-dd",selectYears:!0,selectMonths:!0,min:new Date(1e3*t.first),max:new Date(1e3*t.last)};$(e.dateClass).pickadate(a)}),$(e.machineSelect).change(function(t){var a={machine:$(e.machineSelect).val()};$.getJSON("/api/sets",a,function(t){var a=$(e.setSelect);a.empty(),a.append('<option value="0">All</option>'),$.each(t,function(e,t){a.append('<option value="'+t+'">'+t+"</option>")})})}),$("#gq-submit").click(function(t){var a={start:$(e.dateStart).val(),end:$(e.dateEnd).val(),set:$(e.setSelect).val(),machine:$(e.machineSelect).val()};switch($("#gq-query-type").val()){case"average":$.getJSON("/api/average",a,function(t){for($(e.results).empty(),$(e.results).append('<h1 id="gq-average-num-res" class="centered"></h1>'),i=0;i<t.length;i++)$(e.resultsAvg).append("<span class='num'>"+t[i]+"</span>")})}})});